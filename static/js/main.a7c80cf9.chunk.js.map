{"version":3,"sources":["stores/dbPromise.js","stores/NotificationStore.js","stores/idbConfigStore.js","stores/ConfigStore.js","services/KeyMetricsService.js","stores/KeyMetricsStore.js","stores/idbSymbolDataStore.js","services/FetchDataService.js","stores/SymbolDataStore.js","stores/DataStore.js","components/SearchForSymbolInput.js","components/SelectedSymbolsBar.js","components/PortfolioBuilder.js","components/KeyMetricsDialog.js","components/KeyMetricCard.js","components/KeyMetricRow.js","components/DatePicker.js","components/ChartConfigurationCard.js","components/ChartSwitchStyle.js","components/TriggerRerenderPortfolio.js","components/TriggerShowVisibleLines.js","components/ChartPortfolioOverview.js","components/TriggerRerenderDrawdown.js","components/ChartDrawdown.js","components/TabBar.js","pages/ChartingPage.js","pages/SettingsPage.js","components/Notifier.js","App.js","reportWebVitals.js","index.js"],"names":["window","console","log","dbPromise","openDB","upgrade","db","objectStoreNames","contains","createObjectStore","keyPath","autoIncrement","notificationStore","extendObservable","this","notifications","keys","API_TOKEN_MISSING","PORTFOLIO_CALCULATING","API_TOKEN_STORED","enqueueSnackbar","action","note","push","key","Date","getTime","Math","random","removeSnackbar","filter","notification","idbConfigStore","get","set","val","put","delete","clear","getAllKeys","fakeToken","length","result","characters","charactersLength","i","charAt","floor","configStore","alphaVantage","url","apiToken","isRunningSetup","alphaVantageConstants","SYMBOL_SEARCH","TIME_SERIES_DAILY_ADJUSTED","riskFreeRate","startSetup","makeObservable","observable","setAlphaVantageAPITokenHelper","setIsRunningSetup","setRiskFreeRate","autorun","trigger","keyMetricsStore","calculateAndSetPortfolioSharpRatio","JSON","stringify","token","setAlphaVantageAPITokenIDB","dataStore","addSymbol","symbolTicker","name","region","currency","bool","newToken","message","options","variant","autoHideDuration","newRate","KeyMetricsService","calculateAndStoreSharpRatio","timeseries","dataSetTemp","riskFreeTemp","forEach","entry","value","sharpDaily","PortfolioAnalytics","sharpeRatio","sharpAnnulized","calculatePortfolioDrawdownTimeSeries","portfolioTimeseries","values","map","timeseriesObj","drawdownFunction","e","time","portfolioSharpRatio","portfolioDrawdownTimeSeries","calculateAndSetPortfolioDrawdown","symbolDataStore","getSymbolTimeseriesDataFromMap","res","idbSymbolDataStore","getAdjustedCloseByTickerAndDate","date","data","getTimeSeriesDailyByTicker","getTimeSeriesDailyByTickerFormated","formateDataToChartFormat","formatAndStoreSymbolData","rawData","meta_data","symbol_ticker","date_fetched","time_zone","formatedData","symbol","time_series_daily","calculateAndStoreHistoricPortfolioPerformance","setIsCalculatingPortfolioPerformance","symbolQuantityMap","startingDate","moment","portfolioStartingDate","endDate","daysSinceStart","diff","Promise","all","symbolsWithoutPortfolio","symbolSet","a","format","startingDatePriceValue","add","endDatePriceValue","subtract","performanceSinceStart","parseFloat","setPerformanceSincePortfolioStartForTicker","yearlyPerformanceSinceStart","setYearlyPerformanceSincePortfolioStartForTicker","startingDateValueOfThisSymbol","getSymbolSetForTicker","quantity","endValue","setEndValueForTicker","datesToCheck","isBefore","tempSymbolDatasetMap","tempDataSet","sumOfDividends","tempSumForDate","Object","entries","dataset","dividend","setTimeseriesForTicker","then","endDatePriceValuePortfolio","startingDatePriceValuePortfolio","performanceSinceStartPortfolio","yearlyPerformanceSinceStartPortfolio","setTotalDividendPayoutForTicker","symbolData","temp","dailyInformation","String","reverse","FetchDataService","fetchDataDailyAdjustedForSymbolAlphaVantage","axios","params","function","outputsize","apikey","searchAlphaVantageByKeywords","keywords","matches","searchResultsFormated","isCalculatingPortfolioPerformance","symbolChartTimeseriesDataMap","Portfolio","addSymbolToMap","removeSymbolFromMap","dataForSymbol","symbolToDelete","DataStore","symbols","isVisible","performanceSincePortfolioStart","yearlyPerformanceSincePortfolioStart","color","nextAvailableColorValue","dateFetched","pendingRequests","appleData","triggerRerenderPortfolio","triggerRecalculatePortfolioTimeout","triggerRerenderVisibleLines","portfolioBuilderSetting","toggleSymbolVisibility","removeSelectedSymbol","setValueForTicker","setTriggerRerenderPortfolio","setTriggerRerenderVisibleLines","setSharpRatioForTicker","setPortfolioStartingDate","setPortfolioBuilderSetting","totalValueOfSymbols","computed","listOfSymbolTickers","symbolPortfolioOnly","symbolsSortedByTickerPortfolioFirst","symbolsSortedByTickerWithoutPortfolio","symbolsSortedByPortfolioBuilderSetting","trigger2","debouncePortfolioRecalculation","clearTimeout","timeout","setTimeout","symbolSetSearchResult","totalDividendPayout","getMetaDataAndStoreIt","getMetaDataForSymbol","metaData","setDateFetchedForTicker","symbolTickerToReload","deleteDataSetForSymbol","symbolTickerToDelete","symbolTickerToRemove","removeColorInUse","deleteDataSet","changedSymbolbyTicker","doesExist","find","changedSymbolByTicker","newVal","availableColorValue","index","chartColorsForSeries","element","isBegingUsed","colorValue","reduce","pv","slice","sort","compareSymbolSetsByTickerPortfolioFirst","compareSymbolSetsByTicker","compareSymbolSetsByName","compareSymbolSetsByPerformanceAnnulized","compareSymbolSetsByPerformanceSinceStart","compareSymbolSetsByValue","b","filterOptions","createFilterOptions","matchFrom","option","SearchForSymbolInput","observer","React","useState","searchOptions","setSearchOptions","isLoadingSearch","setIsLoadingSearch","searchTimeout","setSearchTimeout","setValue","handleValueChange","handleSearch","handleSearchSelect","symbolSearchResult","doesSymbolExist","Autocomplete","id","loading","onChange","event","renderOption","Typography","renderInput","TextField","label","target","style","minWidth","paddingRight","useStyles","makeStyles","theme","root","display","justifyContent","flexWrap","listStyle","padding","spacing","margin","chip","SelectedSymbolsBar","classes","anchorEl","setAnchorEl","menuSelectedSymbolSet","setMenuSelectedSymbolSet","handleClose","Paper","className","keepMounted","open","Boolean","onClose","MenuItem","ListItemIcon","fontSize","noWrap","onClick","reloadDataFor","removeAndDeleteSymbol","Grid","container","alignItems","item","xs","direction","justify","Chip","symbolTickerToHide","onDelete","currentTarget","handleMenuClick","deleteIcon","clickable","backgroundColor","tabellCellClickable","cursor","performanceToPercent","performance","toFixed","PortfolioBuilder","getItemNumber","TableContainer","component","Table","table","aria-label","size","TableHead","TableRow","TableCell","align","maxWidth","TableBody","scope","type","KeyMetricsDialog","dialogTitle","dialogText","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","flexGrow","paper","palette","text","secondary","width","height","grid","title","KeyMetricCard","titel","description","showPercent","showProgress","setOpen","handleClickOpen","alignSelf","CircularProgress","textAlign","KeyIndicatorRow","Link","href","rel","DatePicker","utils","MomentUtils","disableToolbar","dateString","exec","KeyboardButtonProps","gridItem","marks","valuetext","ChartConfigurationCard","elevation","gutterBottom","Slider","defaultValue","getAriaValueText","min","max","step","valueLabelDisplay","onChangeCommitted","ChartSwitchStyle","selectedChartStyleType","switchStyle","checkedA","state","setState","FormGroup","row","FormControlLabel","control","Switch","checked","TriggerRerenderPortfolio","rerenderPortfolio","useEffect","TriggerShowVisibleLines","rerenderVisibleLines","ChartPortfolioOverview","props","myRef","createRef","chart","lineSeriesObj","bind","createGraphForSelectedSymbols","addLineSeriesData","renderChart","current","firstChild","removeChild","createChart","stylePercent","styleAbsolut","applyOptions","tempListOfAllSymbols","lineSeries","includes","removeSeries","tempLineSeries","setData","addLineSeries","series","refreshData","CalculatingProgress","ref","Component","LinearProgress","rightPriceScale","scaleMargins","top","bottom","mode","PriceScaleMode","Normal","borderColor","Percentage","TriggerRerenderDrawdown","rerenderDrawdown","ChartDrawdown","drawdownChartRef","drawdownLineSeries","addDrawdownLineSeries","priceLineVisible","priceFormat","minMove","formatter","TabPanel","children","other","role","hidden","Box","p","a11yProps","background","TabBar","Tabs","newValue","indicatorColor","textColor","centered","Tab","ChartingPage","KeyMetricRow","SettingsPage","apiTimeout","setAPITimeout","newAPIValue","handleAPIValueChange","Notifier","displayed","storeDisplayed","removeKey","delayUntilRemoveMs","removeDisplayedNotificationByKey","withSnackbar","inject","drawerWidth","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","menuButton","marginRight","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","breakpoints","up","toolbar","mixins","content","App","useTheme","chartingPage","showPage","settingsPage","pages","setPages","handlePageSelect","pageToShow","tempPages","page","CssBaseline","AppBar","position","clsx","Toolbar","IconButton","edge","Drawer","Divider","List","ListItem","button","ListItemText","primary","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","maxSnack","document","getElementById"],"mappings":"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WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GAEvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GAEvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CAAEC,WAAY,UAAWD,cAAc,GACvC,CA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","file":"static/js/main.a7c80cf9.chunk.js","sourcesContent":["import { openDB } from \"idb\";\n\nif (!(\"indexedDB\" in window)) {\n  console.log(\"This browser doesn't support IndexedDB\");\n}\n\nconst dbPromise = openDB(\"historic-portfolio-analyzer\", 2, {\n  upgrade(db) {\n    if (!db.objectStoreNames.contains(\"symbolDataStore\")) {\n      console.log(\"Creating new symbolDataStore\");\n      db.createObjectStore(\"symbolDataStore\", {\n        keyPath: \"symbol\",\n        autoIncrement: false,\n      });\n    }\n    if (!db.objectStoreNames.contains(\"configStore\")) {\n      console.log(\"Creating new configStore\");\n      db.createObjectStore(\"configStore\");\n    }\n  },\n});\n\nexport default dbPromise;\n","import { action, extendObservable } from \"mobx\";\n\nconst NotificationStore = function () {\n  extendObservable(this, {\n    notifications: [],\n    keys: {\n      API_TOKEN_MISSING: \"API_TOKEN_MISSING\",\n      PORTFOLIO_CALCULATING: \"PORTFOLIO_CALCULATING\",\n      API_TOKEN_STORED: \"API_TOKEN_STORED\",\n    },\n\n    enqueueSnackbar: action((note) => {\n      this.notifications.push({\n        key: note.key ? note.key : new Date().getTime() + Math.random(),\n        ...note,\n      });\n    }),\n\n    removeSnackbar: action((key) => {\n      this.notifications = this.notifications.filter((notification) => notification.key !== key);\n    }),\n  });\n};\n\nconst notificationStore = new NotificationStore();\nexport default notificationStore;\n","import dbPromise from \"./dbPromise\";\n\nconst idbConfigStore = {\n  async get(key) {\n    return (await dbPromise).get(\"configStore\", key);\n  },\n  async set(key, val) {\n    return (await dbPromise).put(\"configStore\", val, key);\n  },\n  async delete(key) {\n    return (await dbPromise).delete(\"configStore\", key);\n  },\n  async clear() {\n    return (await dbPromise).clear(\"configStore\");\n  },\n  async keys() {\n    return (await dbPromise).getAllKeys(\"configStore\");\n  },\n};\n\nexport default idbConfigStore;\n","import { makeObservable, observable, action, autorun } from \"mobx\";\nimport idbConfigStore from \"./idbConfigStore\";\nimport notificationStore from \"./NotificationStore\";\nimport dataStore from \"./DataStore\";\nimport keyMetricsStore from \"./KeyMetricsStore\";\n\nclass ConfigStore {\n  alphaVantage = { url: \"https://www.alphavantage.co/query\", apiToken: \"\" };\n  isRunningSetup = true;\n  alphaVantageConstants = { SYMBOL_SEARCH: \"SYMBOL_SEARCH\", TIME_SERIES_DAILY_ADJUSTED: \"TIME_SERIES_DAILY_ADJUSTED\" };\n  riskFreeRate = 1;\n\n  constructor() {\n    this.startSetup();\n\n    makeObservable(this, {\n      alphaVantage: observable,\n      isRunningSetup: observable,\n      riskFreeRate: observable,\n      setAlphaVantageAPITokenHelper: action,\n      setIsRunningSetup: action,\n      setRiskFreeRate: action,\n    });\n\n    autorun(() => {\n      const trigger = this.riskFreeRate;\n\n      if (!this.isRunningSetup) keyMetricsStore.calculateAndSetPortfolioSharpRatio();\n      console.log(\"Autorun: triggering sharp ratio rercalculation: \" + JSON.stringify(trigger));\n    });\n  }\n\n  async startSetup() {\n    console.log(\"startSetup\");\n    // Load stored API token from idbConfigStore or create a Token\n    const token = await idbConfigStore.get(\"alphaVantagAPIToken\");\n    if (token) this.setAlphaVantageAPITokenHelper(token);\n    else {\n      await this.setAlphaVantageAPITokenIDB(fakeToken(16));\n    }\n\n    // Add default symbols\n    // If no deafult symbols added then dataStore trigger have to be called manually\n    dataStore.addSymbol({ symbolTicker: \"AAPL\", name: \"Apple Inc.\", region: \"testRegion\", currency: \"USD\" });\n\n    this.setIsRunningSetup(false);\n  }\n\n  setIsRunningSetup(bool) {\n    this.isRunningSetup = bool;\n  }\n\n  // Store new alphaVantagAPIToken to idbConfigStore then store in mobx store\n  async setAlphaVantageAPITokenIDB(newToken) {\n    await idbConfigStore.set(\"alphaVantagAPIToken\", newToken);\n    notificationStore.enqueueSnackbar({\n      message: `Stored new API-Token${this.alphaVantage.apiToken}`,\n      options: {\n        variant: \"success\",\n        autoHideDuration: 1000,\n      },\n      key: notificationStore.keys.API_TOKEN_STORED,\n    });\n    this.setAlphaVantageAPITokenHelper(newToken);\n  }\n\n  setAlphaVantageAPITokenHelper(newToken) {\n    console.log(\"setAlphaVantageAPITokenHelper: \" + newToken);\n    this.alphaVantage.apiToken = newToken;\n  }\n  setRiskFreeRate(newRate) {\n    console.log(\"setRiskFreeRate: \" + newRate);\n    this.riskFreeRate = newRate;\n  }\n}\n\nfunction fakeToken(length) {\n  let result = \"\";\n  const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\n  const charactersLength = characters.length;\n  for (let i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n}\n\nconst configStore = new ConfigStore();\nexport default configStore;\n","import configStore from \"../stores/ConfigStore\";\nimport PortfolioAnalytics from \"portfolio-analytics\";\n\nconst KeyMetricsService = {\n  async calculateAndStoreSharpRatio(timeseries) {\n    const riskFreeRate = configStore.riskFreeRate / 100 + 1;\n\n    // Create lists for PortfolioAnalytics.sharpRatio()\n    let dataSetTemp = [];\n    let riskFreeTemp = [];\n    timeseries.forEach((entry, i) => {\n      dataSetTemp.push(entry.value);\n      riskFreeTemp.push(riskFreeRate ** ((1 / 252) * i));\n    });\n\n    const sharpDaily = PortfolioAnalytics.sharpeRatio(dataSetTemp, riskFreeTemp);\n    // Multiply sharpDaily ratio by square root of trading days in a year\n    // Assumption: 252 trading days in a regular year\n    const sharpAnnulized = sharpDaily * 252 ** 0.5;\n    return sharpAnnulized;\n  },\n  async calculatePortfolioDrawdownTimeSeries(portfolioTimeseries) {\n    let values = portfolioTimeseries.map((timeseriesObj) => timeseriesObj.value);\n\n    const drawdownFunction = PortfolioAnalytics.drawdownFunction(values);\n\n    let result = [];\n    portfolioTimeseries.forEach((e, i) => result.push({ time: e.time, value: drawdownFunction[i] * -100 }));\n\n    return result;\n  },\n};\nexport default KeyMetricsService;\n","import { makeObservable, observable, action } from \"mobx\";\nimport symbolDataStore from \"./SymbolDataStore\";\nimport KeyMetricsService from \"../services/KeyMetricsService\";\n\nclass KeyMetricsStore {\n  portfolioSharpRatio = 0;\n  portfolioDrawdownTimeSeries = [];\n\n  constructor() {\n    makeObservable(this, {\n      portfolioSharpRatio: observable,\n      calculateAndSetPortfolioSharpRatio: action,\n      portfolioDrawdownTimeSeries: observable,\n      calculateAndSetPortfolioDrawdown: action,\n    });\n  }\n\n  async calculateAndSetPortfolioSharpRatio() {\n    this.portfolioSharpRatio = 0;\n\n    const timeseries = await symbolDataStore.getSymbolTimeseriesDataFromMap(\"Portfolio\");\n\n    if (timeseries.length !== 0) {\n      const res = await KeyMetricsService.calculateAndStoreSharpRatio(timeseries);\n      this.portfolioSharpRatio = res;\n    } else {\n      this.portfolioSharpRatio = 0;\n    }\n  }\n\n  async calculateAndSetPortfolioDrawdown(portfolioTimeseries) {\n    this.portfolioDrawdownTimeSeries = [];\n    this.portfolioDrawdownTimeSeries = await KeyMetricsService.calculatePortfolioDrawdownTimeSeries(\n      portfolioTimeseries\n    );\n  }\n}\n\nconst keyMetricsStore = new KeyMetricsStore();\nexport default keyMetricsStore;\n","import dbPromise from \"./dbPromise\";\nimport dataStore from \"./DataStore\";\nimport moment from \"moment\";\nimport notificationStore from \"./NotificationStore\";\nimport symbolDataStore from \"./SymbolDataStore\";\nimport keyMetricsStore from \"./KeyMetricsStore\";\n\n/**\n * primary key: symbol\n * Format of object stored (example):\n{\n  symbol: \"AAPL\", \n  meta_data: {\n  symbol_ticker: \"AAPL\"\n  data_fetched: \"2020-11-18\",\n  time_zone: \"US/Eastern\",\n  },\n  time_series_daily:{\n    \"2020-11-10\": {...}\n  } \n}\n */\nconst idbSymbolDataStore = {\n  async get(key) {\n    return (await dbPromise).get(\"symbolDataStore\", key);\n  },\n  async set(val) {\n    return (await dbPromise).put(\"symbolDataStore\", val);\n  },\n  async delete(key) {\n    return (await dbPromise).delete(\"symbolDataStore\", key);\n  },\n  async clear() {\n    return (await dbPromise).clear(\"symbolDataStore\");\n  },\n  async keys() {\n    return (await dbPromise).getAllKeys(\"symbolDataStore\");\n  },\n  async getAdjustedCloseByTickerAndDate(key, date) {\n    const data = await this.get(key);\n    if (data && \"time_series_daily\" in data) {\n      if (data[\"time_series_daily\"][date]) return data[\"time_series_daily\"][date][\"5. adjusted close\"];\n    }\n    return false;\n  },\n  async getTimeSeriesDailyByTicker(key) {\n    const data = await this.get(key);\n    if (data && \"time_series_daily\" in data && data[\"time_series_daily\"]) return data[\"time_series_daily\"];\n    return false;\n  },\n  async getTimeSeriesDailyByTickerFormated(key) {\n    console.log(\"getTimeSeriesDailyByTickerFormated: \" + key);\n    const data = await this.get(key);\n    if (data && \"time_series_daily\" in data && data[\"time_series_daily\"]) return formateDataToChartFormat(data);\n    return false;\n  },\n  async formatAndStoreSymbolData(symbolTicker, rawData) {\n    let meta_data = {\n      symbol_ticker: rawData[\"Meta Data\"][\"2. Symbol\"],\n      date_fetched: rawData[\"Meta Data\"][\"3. Last Refreshed\"],\n      time_zone: rawData[\"Meta Data\"][\"5. Time Zone\"],\n    };\n\n    let formatedData = {\n      symbol: symbolTicker,\n      meta_data: meta_data,\n      time_series_daily: rawData[\"Time Series (Daily)\"],\n    };\n    await this.set(formatedData);\n  },\n  async calculateAndStoreHistoricPortfolioPerformance() {\n    console.log(\"calculateAndStoreHistoricPortfolioPerformance\");\n    notificationStore.enqueueSnackbar({\n      message: `Calculating Portfolio value`,\n      options: {\n        variant: \"info\",\n        autoHideDuration: 2000,\n      },\n      key: notificationStore.keys.PORTFOLIO_CALCULATING,\n    });\n    symbolDataStore.setIsCalculatingPortfolioPerformance(true);\n\n    //  Calculate for each asset the quantity at portfolio start and the performance since\n    console.log(\"Portfolio - calculating quantity\");\n    let symbolQuantityMap = {};\n    let startingDate = moment(dataStore.portfolioStartingDate);\n    let endDate = moment();\n    const daysSinceStart = endDate.diff(startingDate, \"days\") + 1;\n    await Promise.all(\n      dataStore.symbolsWithoutPortfolio.map(async (symbolSet) => {\n        // Get price of asset for the portfolio starting date\n        let startingDatePriceValue = await idbSymbolDataStore.getAdjustedCloseByTickerAndDate(\n          symbolSet.symbolTicker,\n          startingDate.format(\"YYYY-MM-DD\")\n        );\n\n        while (!startingDatePriceValue) {\n          startingDate.add(1, \"days\");\n          startingDatePriceValue = await idbSymbolDataStore.getAdjustedCloseByTickerAndDate(\n            symbolSet.symbolTicker,\n            startingDate.format(\"YYYY-MM-DD\")\n          );\n        }\n\n        // Get price of asset for the portfolio end date\n        let endDatePriceValue = await idbSymbolDataStore.getAdjustedCloseByTickerAndDate(\n          symbolSet.symbolTicker,\n          endDate.format(\"YYYY-MM-DD\")\n        );\n\n        while (!endDatePriceValue) {\n          endDate.subtract(1, \"days\");\n          endDatePriceValue = await idbSymbolDataStore.getAdjustedCloseByTickerAndDate(\n            symbolSet.symbolTicker,\n            endDate.format(\"YYYY-MM-DD\")\n          );\n        }\n\n        // Calculate performanceSinceStart for this symbol and store the value\n        const performanceSinceStart = parseFloat(endDatePriceValue) / parseFloat(startingDatePriceValue) - 1;\n        dataStore.setPerformanceSincePortfolioStartForTicker(symbolSet.symbolTicker, performanceSinceStart);\n        // Calculate yearlyPerformanceSinceStart for this symbol and store the value\n        const yearlyPerformanceSinceStart = performanceSinceStart * (365 / daysSinceStart);\n        dataStore.setYearlyPerformanceSincePortfolioStartForTicker(symbolSet.symbolTicker, yearlyPerformanceSinceStart);\n\n        // Calculate quantity for this symbol\n        const startingDateValueOfThisSymbol = dataStore.getSymbolSetForTicker(symbolSet.symbolTicker)[\"value\"];\n        const quantity = parseFloat(startingDateValueOfThisSymbol) / parseFloat(startingDatePriceValue);\n\n        symbolQuantityMap[symbolSet.symbolTicker] = quantity;\n\n        const endValue = endDatePriceValue * quantity;\n        dataStore.setEndValueForTicker(symbolSet.symbolTicker, endValue);\n      })\n    );\n\n    // Generate a list of all days between dataStore.portfolioStartingDate and today (including both days)\n    console.log(\"Portfolio - list of dates\");\n    let datesToCheck = [];\n    let date = moment(dataStore.portfolioStartingDate);\n    while (date.isBefore()) {\n      datesToCheck.push(date.format(\"YYYY-MM-DD\"));\n      date.add(1, \"days\");\n    }\n\n    // Iterate through all days and calculate the total value\n    console.log(\"Portfolio - calculating for each day\");\n    let tempSymbolDatasetMap = {};\n    await Promise.all(\n      dataStore.symbolsWithoutPortfolio.map(async (symbolSet) => {\n        let tempDataSet = await idbSymbolDataStore.getTimeSeriesDailyByTicker(symbolSet.symbolTicker);\n        tempSymbolDatasetMap[symbolSet.symbolTicker] = tempDataSet;\n      })\n    );\n\n    let result = [];\n    let sumOfDividends = 0;\n    datesToCheck.forEach((date) => {\n      let tempSumForDate = 0;\n      for (const [symbolTicker, dataset] of Object.entries(tempSymbolDatasetMap)) {\n        if (dataset && !(date in dataset)) return;\n        const dividend = dataset[date][\"7. dividend amount\"];\n        sumOfDividends += dividend * symbolQuantityMap[symbolTicker];\n        const stockValue = dataset[date][\"5. adjusted close\"];\n        tempSumForDate += stockValue * symbolQuantityMap[symbolTicker];\n      }\n      if (tempSumForDate) result.push({ time: date, value: tempSumForDate });\n    });\n\n    symbolDataStore.setTimeseriesForTicker(\"Portfolio\", result).then((res) => {\n      if (result.length !== 0) {\n        const endDatePriceValuePortfolio = result[0].value;\n        const startingDatePriceValuePortfolio = result[result.length - 1].value;\n        // Calculate performanceSinceStart for portfolio and store the value\n        const performanceSinceStartPortfolio =\n          parseFloat(startingDatePriceValuePortfolio) / parseFloat(endDatePriceValuePortfolio) - 1;\n        dataStore.setPerformanceSincePortfolioStartForTicker(\"Portfolio\", performanceSinceStartPortfolio);\n        // Calculate yearlyPerformanceSinceStart for portfolio and store the value\n        const yearlyPerformanceSinceStartPortfolio = performanceSinceStartPortfolio * (365 / daysSinceStart);\n        dataStore.setYearlyPerformanceSincePortfolioStartForTicker(\"Portfolio\", yearlyPerformanceSinceStartPortfolio);\n\n        dataStore.setTotalDividendPayoutForTicker(\"Portfolio\", sumOfDividends);\n        dataStore.setEndValueForTicker(\"Portfolio\", startingDatePriceValuePortfolio);\n\n        // Calculate key metrics\n        keyMetricsStore.calculateAndSetPortfolioSharpRatio();\n\n        // Calculate drawdown function\n        keyMetricsStore.calculateAndSetPortfolioDrawdown(result);\n      }\n    });\n\n    symbolDataStore.setIsCalculatingPortfolioPerformance(false);\n    return result;\n  },\n};\n\nconst formateDataToChartFormat = (symbolData) => {\n  let temp = [];\n  for (const [key, dailyInformation] of Object.entries(symbolData[\"time_series_daily\"])) {\n    temp.push({ time: String(key), value: parseFloat(dailyInformation[\"5. adjusted close\"]) });\n  }\n  return temp.reverse();\n};\n\nexport default idbSymbolDataStore;\n","import axios from \"axios\";\nimport idbSymbolDataStore from \"../stores/idbSymbolDataStore\";\nimport notificationStore from \"../stores/NotificationStore\";\nimport configStore from \"../stores/ConfigStore\";\n\nconst FetchDataService = {\n  async fetchDataDailyAdjustedForSymbolAlphaVantage(symbolTicker) {\n    console.log(\"fetchDataDailyAdjustedForSymbolAlphaVantage\");\n    console.log(`Fetching data for ${symbolTicker}`);\n    notificationStore.enqueueSnackbar({\n      message: `Fetching data for: ${symbolTicker}`,\n      options: {\n        variant: \"info\",\n        autoHideDuration: 1500,\n      },\n      key: `FETCHING-${symbolTicker}`,\n    });\n    try {\n      //  Call API\n      const res = await axios.get(configStore.alphaVantage.url, {\n        params: {\n          function: configStore.alphaVantageConstants.TIME_SERIES_DAILY_ADJUSTED,\n          symbol: symbolTicker,\n          outputsize: \"full\",\n          apikey: configStore.alphaVantage.apiToken,\n        },\n      });\n      // Failed request\n      if (\"Note\" in res.data) {\n        console.log(\"Failed to fetch for: \" + symbolTicker);\n        notificationStore.enqueueSnackbar({\n          message: `Failed to fetch data for: ${symbolTicker}`,\n          options: {\n            variant: \"warning\",\n            autoHideDuration: 1500,\n          },\n          key: `FETCHING-FAILED-${symbolTicker}`,\n        });\n        return false;\n      } else {\n        //  Store request results\n        // TODO check if received data was valid\n        await idbSymbolDataStore.formatAndStoreSymbolData(symbolTicker, res.data);\n        notificationStore.enqueueSnackbar({\n          message: `Successfully fetched data for: ${symbolTicker}`,\n          options: {\n            variant: \"success\",\n            autoHideDuration: 1500,\n          },\n          key: `FETCHING-SUCCESS-${symbolTicker}`,\n        });\n        return symbolTicker;\n      }\n    } catch (error) {\n      console.log(Object.keys(error), error.message);\n    }\n  },\n  async searchAlphaVantageByKeywords(keywords) {\n    console.log(\"searchAlphaVantageByKeywords: \" + keywords);\n    const res = await axios.get(configStore.alphaVantage.url, {\n      params: {\n        function: configStore.alphaVantageConstants.SYMBOL_SEARCH,\n        keywords: keywords,\n        apikey: configStore.alphaVantage.apiToken,\n      },\n    });\n    if (\"Note\" in res.data) {\n      console.log(\"Failed to search for:\" + keywords);\n      notificationStore.enqueueSnackbar({\n        message: `Failed to search for: ${keywords}`,\n        options: {\n          variant: \"warning\",\n        },\n      });\n      return false;\n    } else {\n      const matches = res.data[\"bestMatches\"];\n      if (!matches) return [];\n      const searchResultsFormated = matches.map((result) => ({\n        symbolTicker: result[\"1. symbol\"],\n        name: result[\"2. name\"],\n        region: result[\"4. region\"],\n        currency: result[\"8. currency\"],\n      }));\n      return searchResultsFormated;\n    }\n  },\n};\n\nexport default FetchDataService;\n","import { makeObservable, observable, action } from \"mobx\";\nimport idbSymbolDataStore from \"./idbSymbolDataStore\";\nimport configStore from \"./ConfigStore\";\nimport notificationStore from \"./NotificationStore\";\nimport FetchDataService from \"../services/FetchDataService\";\nclass SymbolDataStore {\n  isCalculatingPortfolioPerformance = false;\n  symbolChartTimeseriesDataMap = { Portfolio: [] };\n\n  constructor() {\n    makeObservable(this, {\n      isCalculatingPortfolioPerformance: observable,\n      symbolChartTimeseriesDataMap: observable,\n      setIsCalculatingPortfolioPerformance: action,\n      addSymbolToMap: action,\n      removeSymbolFromMap: action,\n      setTimeseriesForTicker: action,\n    });\n  }\n\n  setIsCalculatingPortfolioPerformance(bool) {\n    this.isCalculatingPortfolioPerformance = bool;\n  }\n\n  async addSymbolToMap(symbolTicker) {\n    console.log(\"addSymbolToMap: \" + symbolTicker);\n    const dataForSymbol = await idbSymbolDataStore.getTimeSeriesDailyByTickerFormated(symbolTicker);\n    if (dataForSymbol) {\n      this.setTimeseriesForTicker(symbolTicker, dataForSymbol);\n    } else {\n      // Check if api token is set\n      if (configStore.alphaVantage.apiToken) {\n        await FetchDataService.fetchDataDailyAdjustedForSymbolAlphaVantage(symbolTicker);\n        const dataForSymbol = await idbSymbolDataStore.getTimeSeriesDailyByTickerFormated(symbolTicker);\n        if (dataForSymbol) this.setTimeseriesForTicker(symbolTicker, dataForSymbol);\n      } else {\n        notificationStore.enqueueSnackbar({\n          message: `Please enter an API key on the Settings Page`,\n          options: {\n            variant: \"error\",\n            autoHideDuration: 2500,\n          },\n          key: notificationStore.keys.API_TOKEN_MISSING,\n        });\n      }\n    }\n  }\n\n  async removeSymbolFromMap(symbolTicker) {\n    delete this.symbolChartTimeseriesDataMap[symbolTicker];\n  }\n\n  async deleteDataSet(symbolToDelete) {\n    await idbSymbolDataStore.delete(symbolToDelete);\n  }\n\n  async getSymbolTimeseriesDataFromMap(symbolTicker) {\n    console.log(\"getSymbolTimeseriesDataFromMap: \" + symbolTicker);\n    if (this.symbolChartTimeseriesDataMap[symbolTicker]) return this.symbolChartTimeseriesDataMap[symbolTicker];\n    else {\n      if (symbolTicker === \"Portfolio\") {\n        return;\n      } else {\n        await FetchDataService.fetchDataDailyAdjustedForSymbolAlphaVantage(symbolTicker);\n        const dataForSymbol = await idbSymbolDataStore.getTimeSeriesDailyByTickerFormated(symbolTicker);\n        if (dataForSymbol) this.setTimeseriesForTicker(symbolTicker, dataForSymbol);\n        return dataForSymbol;\n      }\n    }\n  }\n\n  async setTimeseriesForTicker(symbolTicker, timeseries) {\n    console.log(\"setTimeseriesForTicker: \" + symbolTicker);\n    this.symbolChartTimeseriesDataMap[symbolTicker] = timeseries;\n  }\n\n  async calculateAndStoreHistoricPortfolioPerformance() {\n    return await idbSymbolDataStore.calculateAndStoreHistoricPortfolioPerformance();\n  }\n\n  async getMetaDataForSymbol(symbolTicker) {\n    const data = await idbSymbolDataStore.get(symbolTicker);\n    return data.meta_data;\n  }\n}\n\nconst symbolDataStore = new SymbolDataStore();\nexport default symbolDataStore;\n","import { makeObservable, observable, action, computed, autorun } from \"mobx\";\nimport moment from \"moment\";\nimport symbolDataStore from \"./SymbolDataStore\";\nclass DataStore {\n  symbols = [\n    {\n      symbolTicker: \"Portfolio\",\n      name: \"Portfolio\",\n      isVisible: true,\n      value: 0,\n      currency: \"USD\",\n      performanceSincePortfolioStart: 1,\n      yearlyPerformanceSincePortfolioStart: 1,\n      color: this.nextAvailableColorValue(),\n      endValue: 0,\n      dateFetched: \"-\",\n    },\n  ];\n  pendingRequests = 0;\n  appleData = [];\n  portfolioStartingDate = \"\";\n  triggerRerenderPortfolio = false;\n  triggerRecalculatePortfolioTimeout = null;\n  triggerRerenderVisibleLines = false;\n  portfolioBuilderSetting = \"ticker\"; // \"ticker\", \"name\", \"value\", \"performance_since_start\", \"performance_annualized\"\n\n  constructor() {\n    makeObservable(this, {\n      symbols: observable,\n      portfolioBuilderSetting: observable,\n      triggerRerenderPortfolio: observable,\n      triggerRerenderVisibleLines: observable,\n      portfolioStartingDate: observable,\n      toggleSymbolVisibility: action,\n      addSymbol: action,\n      removeSelectedSymbol: action,\n      setValueForTicker: action,\n      setPerformanceSincePortfolioStartForTicker: action,\n      setYearlyPerformanceSincePortfolioStartForTicker: action,\n      setEndValueForTicker: action,\n      setTriggerRerenderPortfolio: action,\n      setTriggerRerenderVisibleLines: action,\n      setTotalDividendPayoutForTicker: action,\n      setSharpRatioForTicker: action,\n      setPortfolioStartingDate: action,\n      setPortfolioBuilderSetting: action,\n      totalValueOfSymbols: computed,\n      listOfSymbolTickers: computed,\n      symbolsWithoutPortfolio: computed,\n      symbolPortfolioOnly: computed,\n      symbolsSortedByTickerPortfolioFirst: computed,\n      symbolsSortedByTickerWithoutPortfolio: computed,\n      symbolsSortedByPortfolioBuilderSetting: computed,\n    });\n\n    this.portfolioStartingDate = moment().subtract(1, \"years\").format(\"YYYY-MM-DD\");\n\n    autorun(() => {\n      // triggerRerenderPortfolio\n      const trigger = this.portfolioStartingDate;\n      const trigger2 = this.totalValueOfSymbols;\n\n      // Debounce\n      const debouncePortfolioRecalculation = async () => {\n        console.log(\n          \"Autorun: triggering portfolio rercalculation\" + JSON.stringify(trigger) + JSON.stringify(trigger2)\n        );\n        await symbolDataStore.calculateAndStoreHistoricPortfolioPerformance();\n        this.setTriggerRerenderPortfolio(true);\n      };\n\n      //  Check if timeout exists, if so clear and start a new one\n      if (this.triggerRecalculatePortfolioTimeout) clearTimeout(this.triggerRecalculatePortfolioTimeout);\n      const timeout = setTimeout(async () => {\n        await debouncePortfolioRecalculation();\n      }, 500);\n      this.triggerRecalculatePortfolioTimeout = timeout;\n    });\n  }\n\n  setTriggerRerenderPortfolio(bool) {\n    this.triggerRerenderPortfolio = bool;\n  }\n\n  setTriggerRerenderVisibleLines(bool) {\n    this.triggerRerenderVisibleLines = bool;\n  }\n\n  async addSymbol(symbolSetSearchResult) {\n    if (!symbolSetSearchResult || !symbolSetSearchResult.symbolTicker) return false;\n    this.symbols.push({\n      symbolTicker: symbolSetSearchResult.symbolTicker,\n      name: symbolSetSearchResult.name,\n      currency: symbolSetSearchResult.currency,\n      performanceSincePortfolioStart: 1,\n      yearlyPerformanceSincePortfolioStart: 1,\n      isVisible: true,\n      value: 100,\n      endValue: 0,\n      totalDividendPayout: 0,\n      color: this.nextAvailableColorValue(),\n      dateFetched: \"-\",\n    });\n\n    await symbolDataStore.addSymbolToMap(symbolSetSearchResult.symbolTicker);\n    await this.getMetaDataAndStoreIt(symbolSetSearchResult.symbolTicker);\n\n    this.setTriggerRerenderVisibleLines(true);\n    this.setTriggerRerenderPortfolio(true);\n  }\n\n  async getMetaDataAndStoreIt(symbolTicker) {\n    //  Get meta data and store it inside this store\n    const metaData = await symbolDataStore.getMetaDataForSymbol(symbolTicker);\n    this.setDateFetchedForTicker(symbolTicker, metaData.date_fetched);\n  }\n\n  async reloadDataFor(symbolTickerToReload) {\n    await this.deleteDataSetForSymbol(symbolTickerToReload);\n    await symbolDataStore.removeSymbolFromMap(symbolTickerToReload);\n    await symbolDataStore.addSymbolToMap(symbolTickerToReload);\n    await this.getMetaDataAndStoreIt(symbolTickerToReload);\n  }\n\n  async removeAndDeleteSymbol(symbolTickerToDelete) {\n    await this.removeSelectedSymbol(symbolTickerToDelete);\n    await this.deleteDataSetForSymbol(symbolTickerToDelete);\n  }\n\n  async removeSelectedSymbol(symbolTickerToRemove) {\n    this.removeColorInUse(this.getSymbolSetForTicker(symbolTickerToRemove).color);\n    this.symbols = this.symbols.filter((symbolSet) => symbolSet.symbolTicker !== symbolTickerToRemove);\n\n    await symbolDataStore.removeSymbolFromMap(symbolTickerToRemove);\n\n    this.setTriggerRerenderVisibleLines(true);\n    this.setTriggerRerenderPortfolio(true);\n  }\n\n  async deleteDataSetForSymbol(symbolTickerToDelete) {\n    await symbolDataStore.deleteDataSet(symbolTickerToDelete);\n  }\n\n  toggleSymbolVisibility(changedSymbolbyTicker) {\n    console.log(changedSymbolbyTicker);\n    this.symbols.forEach((symbol) => {\n      if (symbol.symbolTicker === changedSymbolbyTicker) {\n        symbol.isVisible = !symbol.isVisible;\n      }\n    });\n    this.setTriggerRerenderVisibleLines(true);\n  }\n\n  setPortfolioStartingDate(date) {\n    this.portfolioStartingDate = date;\n  }\n\n  get totalValueOfSymbols() {\n    return this.symbols.reduce((pv, symbolSet) => {\n      if (symbolSet.symbolTicker !== \"Portfolio\") return +pv + +symbolSet.value;\n      else return pv;\n    }, 0);\n  }\n\n  async doesSymbolExist(symbolTicker) {\n    let doesExist = false;\n    this.symbols.forEach((symbolSet) => {\n      if (symbolSet.symbolTicker === symbolTicker) {\n        doesExist = true;\n      }\n    });\n    return doesExist;\n  }\n\n  getSymbolSetForTicker(symbolTicker) {\n    return this.symbols.find((symbolSet) => symbolSet.symbolTicker === symbolTicker);\n  }\n\n  get symbolsWithoutPortfolio() {\n    return this.symbols.filter((symbolSet) => symbolSet.symbolTicker !== \"Portfolio\");\n  }\n\n  get symbolPortfolioOnly() {\n    return this.symbols.filter((symbolSet) => symbolSet.symbolTicker === \"Portfolio\");\n  }\n\n  get symbolsSortedByTickerPortfolioFirst() {\n    let temp = this.symbols;\n    temp = temp.slice().sort(compareSymbolSetsByTickerPortfolioFirst);\n    return temp;\n  }\n\n  get symbolsSortedByPortfolioBuilderSetting() {\n    let temp = this.symbols;\n    if (this.portfolioBuilderSetting === \"ticker\") {\n      temp = temp.slice().sort(compareSymbolSetsByTicker);\n    } else if (this.portfolioBuilderSetting === \"name\") {\n      temp = temp.slice().sort(compareSymbolSetsByName);\n    } else if (this.portfolioBuilderSetting === \"performance_annualized\") {\n      temp = temp.slice().sort(compareSymbolSetsByPerformanceAnnulized);\n    } else if (this.portfolioBuilderSetting === \"performance_since_start\") {\n      temp = temp.slice().sort(compareSymbolSetsByPerformanceSinceStart);\n    } else if (this.portfolioBuilderSetting === \"value\") {\n      temp = temp.slice().sort(compareSymbolSetsByValue);\n    }\n    return temp;\n  }\n\n  get symbolsSortedByTickerWithoutPortfolio() {\n    let temp = this.symbols;\n    temp = temp.filter((symbolSet) => symbolSet.symbolTicker !== \"Portfolio\");\n    temp = temp.slice().sort(compareSymbolSetsByTickerPortfolioFirst);\n    return temp;\n  }\n\n  get listOfSymbolTickers() {\n    return this.symbols.map((symbolSet) => symbolSet.symbolTicker);\n  }\n\n  setValueForTicker(changedSymbolByTicker, value) {\n    console.log(\"Updating value: \" + value);\n    this.symbols.forEach((symbol) => {\n      if (symbol.symbolTicker === changedSymbolByTicker) {\n        symbol.value = value;\n      }\n    });\n  }\n\n  setDateFetchedForTicker(changedSymbolByTicker, date) {\n    console.log(\"Updating dateFetched: \" + date);\n    this.symbols.forEach((symbol) => {\n      if (symbol.symbolTicker === changedSymbolByTicker) {\n        symbol.dateFetched = date;\n      }\n    });\n  }\n\n  setPerformanceSincePortfolioStartForTicker(changedSymbolByTicker, value) {\n    console.log(\"Updating performanceSincePortfolioStart: \" + value);\n    this.symbols.forEach((symbol) => {\n      if (symbol.symbolTicker === changedSymbolByTicker) {\n        symbol.performanceSincePortfolioStart = value;\n      }\n    });\n  }\n\n  setYearlyPerformanceSincePortfolioStartForTicker(changedSymbolByTicker, value) {\n    console.log(\"Updating setYearlyPerformanceSincePortfolioStartForTicker: \" + value);\n    this.symbols.forEach((symbol) => {\n      if (symbol.symbolTicker === changedSymbolByTicker) {\n        symbol.yearlyPerformanceSincePortfolioStart = value;\n      }\n    });\n  }\n\n  setEndValueForTicker(changedSymbolByTicker, value) {\n    console.log(\"Updating setEndValueForTicker: \" + value);\n    this.symbols.forEach((symbol) => {\n      if (symbol.symbolTicker === changedSymbolByTicker) {\n        symbol.endValue = value;\n      }\n    });\n  }\n\n  setTotalDividendPayoutForTicker(changedSymbolByTicker, value) {\n    console.log(\"Updating setTotalDividendPayoutForTicker: \" + value);\n    this.symbols.forEach((symbol) => {\n      if (symbol.symbolTicker === changedSymbolByTicker) {\n        symbol.totalDividendPayout = value;\n      }\n    });\n  }\n\n  setSharpRatioForTicker(changedSymbolByTicker, value) {\n    console.log(\"Updating setSharpRatioForTicker: \" + value);\n    this.symbols.forEach((symbol) => {\n      if (symbol.symbolTicker === changedSymbolByTicker) {\n        symbol[\"sharpRatio\"] = value;\n      }\n    });\n  }\n\n  setPortfolioBuilderSetting(newVal) {\n    this.portfolioBuilderSetting = newVal;\n  }\n\n  nextAvailableColorValue() {\n    let availableColorValue = null;\n    for (let index = 0; index < chartColorsForSeries.length; index++) {\n      const element = chartColorsForSeries[index];\n      if (!element.isBegingUsed) {\n        availableColorValue = element.colorValue;\n        element.isBegingUsed = true;\n        break;\n      }\n    }\n    return availableColorValue;\n  }\n\n  removeColorInUse(colorValue) {\n    for (let index = 0; index < chartColorsForSeries.length; index++) {\n      const element = chartColorsForSeries[index];\n      if (element.colorValue === colorValue) {\n        element.isBegingUsed = false;\n        break;\n      }\n    }\n  }\n}\n\nconst chartColorsForSeries = [\n  { colorValue: \"#3f51b5\", isBegingUsed: false },\n  { colorValue: \"#2196f3\", isBegingUsed: false },\n  { colorValue: \"#03a9f4\", isBegingUsed: false },\n  { colorValue: \"#00bcd4\", isBegingUsed: false },\n  { colorValue: \"#009688\", isBegingUsed: false },\n  { colorValue: \"#4caf50\", isBegingUsed: false },\n  { colorValue: \"#8bc34a\", isBegingUsed: false },\n  { colorValue: \"#cddc39\", isBegingUsed: false },\n  { colorValue: \"#ffeb3b\", isBegingUsed: false },\n  { colorValue: \"#ffc107\", isBegingUsed: false },\n  { colorValue: \"#ff9800\", isBegingUsed: false },\n  { colorValue: \"#ff5722\", isBegingUsed: false },\n  { colorValue: \"#f44336\", isBegingUsed: false },\n  { colorValue: \"#e91e63\", isBegingUsed: false },\n  { colorValue: \"#9c27b0\", isBegingUsed: false },\n  { colorValue: \"#673ab7\", isBegingUsed: false },\n\n  { colorValue: \"#2c387e\", isBegingUsed: false },\n  { colorValue: \"#1769aa\", isBegingUsed: false },\n  { colorValue: \"#0276aa\", isBegingUsed: false },\n  { colorValue: \"#008394\", isBegingUsed: false },\n  { colorValue: \"#00695f\", isBegingUsed: false },\n  { colorValue: \"#357a38\", isBegingUsed: false },\n  { colorValue: \"#618833\", isBegingUsed: false },\n  { colorValue: \"#8f9a27\", isBegingUsed: false },\n  { colorValue: \"#b2a429\", isBegingUsed: false },\n  { colorValue: \"#b28704\", isBegingUsed: false },\n  { colorValue: \"#b26a00\", isBegingUsed: false },\n  { colorValue: \"#b23c17\", isBegingUsed: false },\n  { colorValue: \"#aa2e25\", isBegingUsed: false },\n  { colorValue: \"#a31545\", isBegingUsed: false },\n  { colorValue: \"#6d1b7b\", isBegingUsed: false },\n  { colorValue: \"#482880\", isBegingUsed: false },\n\n  { colorValue: \"#6573c3\", isBegingUsed: false },\n  { colorValue: \"#4dabf5\", isBegingUsed: false },\n  { colorValue: \"#35baf6\", isBegingUsed: false },\n  { colorValue: \"#33c9dc\", isBegingUsed: false },\n  { colorValue: \"#33ab9f\", isBegingUsed: false },\n  { colorValue: \"#6fbf73\", isBegingUsed: false },\n  { colorValue: \"#a2cf6e\", isBegingUsed: false },\n  { colorValue: \"#d7e360\", isBegingUsed: false },\n  { colorValue: \"#ffef62\", isBegingUsed: false },\n  { colorValue: \"#ffcd38\", isBegingUsed: false },\n  { colorValue: \"#ffac33\", isBegingUsed: false },\n  { colorValue: \"#ff784e\", isBegingUsed: false },\n  { colorValue: \"#f6685e\", isBegingUsed: false },\n  { colorValue: \"#ed4b82\", isBegingUsed: false },\n  { colorValue: \"#af52bf\", isBegingUsed: false },\n  { colorValue: \"#8561c5\", isBegingUsed: false },\n];\nconst compareSymbolSetsByTicker = (a, b) => {\n  if (a.symbolTicker < b.symbolTicker) {\n    return -1;\n  }\n  if (a.symbolTicker > b.symbolTicker) {\n    return 1;\n  }\n  return 0;\n};\nconst compareSymbolSetsByTickerPortfolioFirst = (a, b) => {\n  if (b.symbolTicker === \"Portfolio\") {\n    return 1;\n  }\n  if (a.symbolTicker < b.symbolTicker) {\n    return -1;\n  }\n  if (a.symbolTicker > b.symbolTicker) {\n    return 1;\n  }\n  return 0;\n};\nconst compareSymbolSetsByPerformanceAnnulized = (a, b) => {\n  if (a.yearlyPerformanceSincePortfolioStart > b.yearlyPerformanceSincePortfolioStart) {\n    return -1;\n  }\n  if (a.yearlyPerformanceSincePortfolioStart < b.yearlyPerformanceSincePortfolioStart) {\n    return 1;\n  }\n  return 0;\n};\nconst compareSymbolSetsByPerformanceSinceStart = (a, b) => {\n  if (a.performanceSincePortfolioStart > b.performanceSincePortfolioStart) {\n    return -1;\n  }\n  if (a.performanceSincePortfolioStart < b.performanceSincePortfolioStart) {\n    return 1;\n  }\n  return 0;\n};\nconst compareSymbolSetsByName = (a, b) => {\n  if (a.name < b.name) {\n    return -1;\n  }\n  if (a.name > b.name) {\n    return 1;\n  }\n  return 0;\n};\nconst compareSymbolSetsByValue = (a, b) => {\n  if (a.value > b.value) {\n    return -1;\n  }\n  if (a.value < b.value) {\n    return 1;\n  }\n  return 0;\n};\nconst dataStore = new DataStore();\nexport default dataStore;\n","import React from \"react\";\nimport { TextField, Typography } from \"@material-ui/core\";\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport { observer } from \"mobx-react-lite\";\nimport FetchDataService from \"../services/FetchDataService\";\n\nconst filterOptions = createFilterOptions({\n  matchFrom: \"any\",\n  stringify: (option) => `${option.symbolTicker}-${option.name}`,\n});\n\nconst SearchForSymbolInput = observer(({ dataStore, notificationStore }) => {\n  const [searchOptions, setSearchOptions] = React.useState([]);\n  const [isLoadingSearch, setIsLoadingSearch] = React.useState(false);\n  const [searchTimeout, setSearchTimeout] = React.useState(null);\n  const [value, setValue] = React.useState(searchOptions[0]);\n\n  const handleValueChange = async (keywords) => {\n    const handleSearch = async (keywords) => {\n      setIsLoadingSearch(true);\n      const res = await FetchDataService.searchAlphaVantageByKeywords(keywords);\n      setIsLoadingSearch(false);\n      if (res) setSearchOptions(res);\n    };\n\n    if (searchTimeout) clearTimeout(searchTimeout);\n    if (!keywords) return;\n    const timeout = setTimeout(async () => {\n      await handleSearch(keywords);\n    }, 500);\n    setSearchTimeout(timeout);\n  };\n\n  const handleSearchSelect = async (symbolSearchResult) => {\n    const doesExist = await dataStore.doesSymbolExist(symbolSearchResult.symbolTicker);\n\n    if (doesExist) {\n      notificationStore.enqueueSnackbar({\n        message: `Symbol: ${symbolSearchResult.symbolTicker} already part of portfolio`,\n        options: {\n          variant: \"warning\",\n          autoHideDuration: 2000,\n        },\n        key: `SYMBOL-DUPLICATE-${symbolSearchResult.symbolTicker}`,\n      });\n    } else {\n      dataStore.addSymbol(symbolSearchResult);\n    }\n  };\n\n  return (\n    <Autocomplete\n      id=\"combo-box-demo\"\n      loading={isLoadingSearch}\n      value={value}\n      onChange={(event, symbolSearchResult) => {\n        setValue(\"\");\n        if (symbolSearchResult && symbolSearchResult.symbolTicker) handleSearchSelect(symbolSearchResult);\n      }}\n      options={searchOptions}\n      filterOptions={filterOptions}\n      renderOption={(option) => (\n        <div>\n          <Typography>{option.name}</Typography>\n          <Typography variant=\"caption\">\n            {option.symbolTicker} - {option.region} - {option.currency}\n          </Typography>\n        </div>\n      )}\n      renderInput={(params) => (\n        <TextField\n          {...params}\n          label=\"Add Asset\"\n          variant=\"outlined\"\n          onChange={(event) => handleValueChange(event.target.value)}\n        />\n      )}\n      style={{ minWidth: \"100px\", paddingRight: \"10px\" }}\n    />\n  );\n});\nexport default SearchForSymbolInput;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Paper, Chip, Grid, Menu, MenuItem, ListItemIcon, Typography } from \"@material-ui/core\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport TodayIcon from \"@material-ui/icons/Today\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport MoneyIcon from \"@material-ui/icons/Money\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport { observer } from \"mobx-react-lite\";\nimport SearchForSymbolInput from \"../components/SearchForSymbolInput\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexWrap: \"wrap\",\n    listStyle: \"none\",\n    padding: theme.spacing(0.5),\n    margin: 0,\n  },\n  chip: {\n    margin: theme.spacing(0.5),\n  },\n}));\n\nconst SelectedSymbolsBar = observer(({ dataStore, notificationStore }) => {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [menuSelectedSymbolSet, setMenuSelectedSymbolSet] = React.useState(null);\n\n  const toggleVisibility = (symbolTickerToHide) => () => {\n    dataStore.toggleSymbolVisibility(symbolTickerToHide);\n  };\n\n  const handleRemoveFromPortfolio = (symbolTickerToRemove) => {\n    dataStore.removeSelectedSymbol(symbolTickerToRemove);\n    handleClose();\n  };\n\n  const handleDeleteDataSet = (symbolTickerToDelete) => {\n    dataStore.removeAndDeleteSymbol(symbolTickerToDelete);\n    handleClose();\n  };\n\n  const handleReloadDataSet = (symbolTickerToDelete) => {\n    dataStore.reloadDataFor(symbolTickerToDelete);\n    handleClose();\n  };\n\n  const handleMenuClick = (event, symbolSet) => {\n    setMenuSelectedSymbolSet(symbolSet);\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <Paper className={classes.root}>\n      <Menu id=\"simple-menu\" anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose}>\n        <MenuItem>\n          <ListItemIcon>\n            <InfoIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <Typography variant=\"inherit\" noWrap>\n            {menuSelectedSymbolSet ? menuSelectedSymbolSet.name : null}\n          </Typography>\n        </MenuItem>\n        <MenuItem>\n          <ListItemIcon>\n            <MoneyIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <Typography variant=\"inherit\" noWrap>\n            {menuSelectedSymbolSet ? menuSelectedSymbolSet.currency : \"-\"}\n          </Typography>\n        </MenuItem>\n        <MenuItem>\n          <ListItemIcon>\n            <TodayIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <Typography variant=\"inherit\" noWrap>\n            {menuSelectedSymbolSet ? menuSelectedSymbolSet.dateFetched : \"-\"}\n          </Typography>\n        </MenuItem>\n        <MenuItem>{/* Empty to have some space between information above and actions below */}</MenuItem>\n        <MenuItem onClick={() => handleReloadDataSet(menuSelectedSymbolSet.symbolTicker)}>\n          <ListItemIcon>\n            <RefreshIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <Typography variant=\"inherit\" noWrap color=\"primary\">\n            Reload data\n          </Typography>\n        </MenuItem>\n        <MenuItem onClick={() => handleRemoveFromPortfolio(menuSelectedSymbolSet.symbolTicker)}>\n          <ListItemIcon>\n            <DeleteIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <Typography variant=\"inherit\" noWrap color=\"error\">\n            Remove from Portfolio\n          </Typography>\n        </MenuItem>\n        <MenuItem onClick={() => handleDeleteDataSet(menuSelectedSymbolSet.symbolTicker)}>\n          <ListItemIcon>\n            <DeleteForeverIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <Typography variant=\"inherit\" noWrap color=\"error\">\n            Delete Dataset\n          </Typography>\n        </MenuItem>\n      </Menu>\n\n      <Grid container spacing={1} alignItems=\"center\">\n        <Grid item xs={8}>\n          <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\n            {dataStore.symbolsSortedByTickerPortfolioFirst.map((symbolSet) => {\n              return (\n                <Chip\n                  key={symbolSet.symbolTicker}\n                  label={symbolSet.symbolTicker}\n                  onClick={toggleVisibility(symbolSet.symbolTicker)}\n                  onDelete={\n                    symbolSet.symbolTicker !== \"Portfolio\" ? (event) => handleMenuClick(event, symbolSet) : false\n                  }\n                  deleteIcon={<InfoIcon />}\n                  className={classes.chip}\n                  color={symbolSet.isVisible ? \"primary\" : \"default\"}\n                  clickable={true}\n                  style={{ backgroundColor: symbolSet.isVisible ? symbolSet.color : \"#eeeeee\" }}\n                />\n              );\n            })}\n          </Grid>\n        </Grid>\n        <Grid item xs={4}>\n          <SearchForSymbolInput dataStore={dataStore} notificationStore={notificationStore} />\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n});\nexport default SelectedSymbolsBar;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Typography, Paper } from \"@material-ui/core\";\nimport { observer } from \"mobx-react\";\n\nconst useStyles = makeStyles({ tabellCellClickable: { cursor: \"pointer\" } });\n\nconst PortfolioBuilder = observer(({ dataStore }) => {\n  const classes = useStyles();\n  let index = 1;\n\n  const getItemNumber = (symbolTicker) => {\n    if (symbolTicker === \"Portfolio\") {\n      return null;\n    } else {\n      const result = index + \".\";\n      index++;\n      return result;\n    }\n  };\n\n  const setPortfolioBuilderSetting = (newVal) => {\n    dataStore.setPortfolioBuilderSetting(newVal);\n  };\n\n  return (\n    <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"simple table\" size=\"small\">\n        <TableHead>\n          <TableRow>\n            <TableCell>No.</TableCell>\n            <TableCell onClick={() => setPortfolioBuilderSetting(\"ticker\")} className={classes.tabellCellClickable}>\n              Symbol\n            </TableCell>\n            <TableCell onClick={() => setPortfolioBuilderSetting(\"name\")} className={classes.tabellCellClickable}>\n              Name\n            </TableCell>\n            <TableCell\n              id=\"annualized\"\n              align=\"right\"\n              onClick={() => setPortfolioBuilderSetting(\"performance_annualized\")}\n              className={classes.tabellCellClickable}\n            >\n              Annualized Performance\n            </TableCell>\n            <TableCell\n              id=\"performance\"\n              align=\"right\"\n              onClick={() => setPortfolioBuilderSetting(\"performance_since_start\")}\n              className={classes.tabellCellClickable}\n            >\n              Performance since start\n            </TableCell>\n            <TableCell\n              align=\"right\"\n              style={{ maxWidth: \"80px\" }}\n              onClick={() => setPortfolioBuilderSetting(\"value\")}\n              className={classes.tabellCellClickable}\n            >\n              Value\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {dataStore.symbolsSortedByPortfolioBuilderSetting.map((symbolSet) => {\n            return (\n              <TableRow key={symbolSet.symbolTicker}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {getItemNumber(symbolSet.symbolTicker)}\n                </TableCell>\n                <TableCell component=\"th\" scope=\"row\">\n                  {symbolSet.symbolTicker === \"Portfolio\" ? <b>{symbolSet.symbolTicker}</b> : symbolSet.symbolTicker}\n                </TableCell>\n                <TableCell align=\"left\">\n                  {symbolSet.name === \"Portfolio\" ? <b>{symbolSet.name}</b> : symbolSet.name}\n                </TableCell>\n                <TableCell align=\"right\">\n                  {performanceToPercent(symbolSet.yearlyPerformanceSincePortfolioStart)}\n                </TableCell>\n                <TableCell align=\"right\">{performanceToPercent(symbolSet.performanceSincePortfolioStart)}</TableCell>\n                <TableCell align=\"right\">\n                  {symbolSet.symbolTicker === \"Portfolio\" ? (\n                    <Typography noWrap>End: ${symbolSet.endValue.toFixed(2)}</Typography>\n                  ) : (\n                    <input\n                      type=\"text\"\n                      value={symbolSet.value}\n                      onChange={(event) => dataStore.setValueForTicker(symbolSet.symbolTicker, event.target.value)}\n                      style={{ maxWidth: \"60px\" }}\n                    />\n                  )}\n                </TableCell>\n              </TableRow>\n            );\n          })}\n          <TableCell />\n          <TableCell />\n          <TableCell />\n          <TableCell />\n          <TableCell />\n          <TableCell align=\"right\">\n            <Typography noWrap>Total: ${dataStore.totalValueOfSymbols}</Typography>\n          </TableCell>\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n});\n\nfunction performanceToPercent(performance) {\n  return (parseFloat(performance) * 100).toFixed(2) + \"%\";\n}\n\nexport default PortfolioBuilder;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nexport default function KeyMetricsDialog({ dialogTitle, dialogText, handleClose, open }) {\n  return (\n    <div>\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">{dialogTitle}</DialogTitle>\n        <DialogContent>\n          <DialogContentText>{dialogText}</DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Grid, Paper, Typography, CircularProgress } from \"@material-ui/core\";\nimport InfoOutlinedIcon from \"@material-ui/icons/InfoOutlined\";\nimport KeyMetricsDialog from \"./KeyMetricsDialog\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    padding: theme.spacing(1),\n    color: theme.palette.text.secondary,\n    width: theme.spacing(20),\n    height: theme.spacing(20),\n  },\n  grid: {\n    width: \"100%\",\n    height: \"100%\",\n  },\n  title: {\n    fontSize: 16,\n  },\n}));\nconst KeyMetricCard = ({\n  titel,\n  description,\n  value = 0,\n  showPercent = false,\n  showProgress = true,\n  dialogTitle,\n  dialogText,\n}) => {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    console.log(\"click\");\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <Grid\n          container\n          item\n          direction=\"column\"\n          justify=\"space-between\"\n          alignItems=\"flex-start\"\n          className={classes.grid}\n        >\n          <Grid item container direction=\"row\" justify=\"space-between\">\n            <Grid item>\n              <Typography className={classes.title} color=\"textPrimary\">\n                {titel}\n              </Typography>\n            </Grid>\n            <Grid item>\n              <InfoOutlinedIcon onClick={handleClickOpen} style={{ cursor: \"pointer\" }} />\n            </Grid>\n          </Grid>\n          <Grid item style={{ alignSelf: \"center\" }}>\n            <Typography variant=\"h3\" component=\"h2\">\n              {value ? (\n                showPercent ? (\n                  performanceToPercent(value)\n                ) : (\n                  value.toFixed(2)\n                )\n              ) : showProgress ? (\n                <CircularProgress />\n              ) : (\n                value\n              )}\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Typography variant=\"caption\" component=\"p\">\n              {description}\n            </Typography>\n          </Grid>\n        </Grid>\n      </Paper>\n      <KeyMetricsDialog\n        open={open}\n        handleClickOpen={handleClickOpen}\n        handleClose={handleClose}\n        dialogTitle={dialogTitle}\n        dialogText={dialogText}\n      />\n    </div>\n  );\n};\n\nfunction performanceToPercent(performance) {\n  return (parseFloat(performance) * 100).toFixed(0) + \"%\";\n}\n\nexport default KeyMetricCard;\n","import React from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Grid, Typography, Link } from \"@material-ui/core\";\nimport KeyMetricCard from \"./KeyMetricCard\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    padding: 0,\n    margin: 0,\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: \"center\",\n    color: theme.palette.text.secondary,\n    width: theme.spacing(20),\n    height: theme.spacing(20),\n  },\n  title: {\n    fontSize: 14,\n  },\n}));\nconst KeyIndicatorRow = observer(({ dataStore, keyMetricsStore }) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <Grid container spacing={3} justify=\"space-evenly\" alignItems=\"center\">\n        <Grid item xs={2}>\n          <KeyMetricCard\n            titel={\"Peformance\"}\n            description={\"Portfolio performance since start\"}\n            value={dataStore.getSymbolSetForTicker(\"Portfolio\").performanceSincePortfolioStart}\n            showPercent={true}\n            dialogTitle={\"Performance since start\"}\n            dialogText={\n              <div>\n                <Typography>\n                  Shows the performance of the portfolio since the given start date based on the configured start\n                  values.\n                </Typography>\n                <Typography>Dividends are reinvested and not payed out.</Typography>\n              </div>\n            }\n          />\n        </Grid>\n        <Grid item xs={2}>\n          <KeyMetricCard\n            titel={\"Annualized\"}\n            description={\"Annualized portfolio performance since start\"}\n            value={dataStore.getSymbolSetForTicker(\"Portfolio\").yearlyPerformanceSincePortfolioStart}\n            showPercent={true}\n            dialogTitle={\"Annualized Performance\"}\n            dialogText={\n              <div>\n                <Typography>\n                  Shows the annualized performance of the portfolio since the given start date. Total perfomance is\n                  divided by the number of days since start and then multiplied by 252 days.\n                </Typography>\n                <Typography>Assumption: A regular year has 252 trading days.</Typography>\n              </div>\n            }\n          />\n        </Grid>\n        <Grid item xs={2}>\n          <KeyMetricCard\n            titel={\"Dividend\"}\n            description={\"Dividends accumulated since start\"}\n            value={dataStore.getSymbolSetForTicker(\"Portfolio\").totalDividendPayout}\n            showProgress={false}\n            dialogTitle={\"Dividends\"}\n            dialogText={\n              <div>\n                <Typography>\n                  Total amount of dividends since portfolio start based on the amount of each share.\n                </Typography>\n                <Typography color=\"error\">\n                  IMPORTANT: Dividends are not payed out, they are reinvested into the stock which payed the dividend.\n                </Typography>\n              </div>\n            }\n          />\n        </Grid>\n        <Grid item xs={2}>\n          <KeyMetricCard\n            titel={\"Sharp Ratio\"}\n            description={\"Return compared to configured risk\"}\n            value={keyMetricsStore.portfolioSharpRatio}\n            dialogTitle={\"Sharp Ratio\"}\n            dialogText={\n              <div>\n                <Typography>\n                  The Sharpe ratio was developed by Nobel laureate William F. Sharpe and is used to help investors\n                  understand the return of an investment compared to its risk. The ratio is the average return earned in\n                  excess of the risk-free rate per unit of volatility or total risk. Volatility is a measure of the\n                  price fluctuations of an asset or portfolio. -{\" \"}\n                  <Link href=\"https://www.investopedia.com/terms/s/sharperatio.asp\" target=\"_blank\" rel=\"noreferrer\">\n                    Investopedia\n                  </Link>\n                </Typography>\n                <Typography>Calculated with the configured risk free rate.</Typography>\n              </div>\n            }\n          />\n        </Grid>\n      </Grid>\n    </div>\n  );\n});\n\nexport default KeyIndicatorRow;\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport MomentUtils from \"@date-io/moment\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\n\nconst DatePicker = observer(({ dataStore }) => {\n  const handleDateChange = (date) => {\n    const dateString = date.format(\"YYYY-MM-DD\");\n\n    // Regex to evaluate YYYY-MM-DD  format\n    const patternDateFormat = /^\\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/;\n\n    // If a match exists then set portfolioStartingDate\n    if (patternDateFormat.exec(dateString)) {\n      dataStore.setPortfolioStartingDate(dateString);\n    }\n  };\n\n  return (\n    <MuiPickersUtilsProvider utils={MomentUtils}>\n      <KeyboardDatePicker\n        disableToolbar\n        variant=\"inline\"\n        format=\"yyyy-MM-DD\"\n        margin=\"normal\"\n        id=\"date-picker-starting-datet\"\n        label=\"Starting date\"\n        value={dataStore.portfolioStartingDate}\n        onChange={handleDateChange}\n        KeyboardButtonProps={{\n          \"aria-label\": \"change date\",\n        }}\n      />\n    </MuiPickersUtilsProvider>\n  );\n});\n\nexport default DatePicker;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Paper, Typography, Slider, Grid } from \"@material-ui/core\";\nimport { observer } from \"mobx-react-lite\";\nimport DatePicker from \"./DatePicker\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexWrap: \"wrap\",\n    listStyle: \"none\",\n    padding: theme.spacing(2),\n  },\n  gridItem: {\n    padding: theme.spacing(2),\n    textAlign: \"center\",\n    color: theme.palette.text.secondary,\n  },\n}));\n\nconst marks = [\n  {\n    value: -1.5,\n    label: \"-1.5%\",\n  },\n  {\n    value: 0,\n    label: \"0%\",\n  },\n  {\n    value: 1,\n    label: \"1%\",\n  },\n  {\n    value: 5,\n    label: \"5%\",\n  },\n  {\n    value: 10,\n    label: \"10%\",\n  },\n];\n\nfunction valuetext(value) {\n  return `${value}%`;\n}\n\nconst ChartConfigurationCard = observer(({ configStore, dataStore }) => {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root} elevation={1}>\n      <Typography variant=\"h4\" gutterBottom>\n        Configurations\n      </Typography>\n      <Grid container spacing={3} xs={12} justify=\"center\" alignItems=\"center\">\n        <Grid item xs={6} style={{ backgroundColor: \"\" }} className={classes.gridItem}>\n          <DatePicker dataStore={dataStore} />\n        </Grid>\n        <Grid item xs={6} style={{ backgroundColor: \"\" }} className={classes.gridItem}>\n          <Typography id=\"discrete-slider-custom\" gutterBottom>\n            Risk Free Rate: {JSON.stringify(configStore.riskFreeRate)}%\n          </Typography>\n          <Slider\n            defaultValue={configStore.riskFreeRate}\n            getAriaValueText={valuetext}\n            aria-labelledby=\"discrete-slider-custom\"\n            min={-1.5}\n            max={10}\n            step={0.1}\n            valueLabelDisplay=\"auto\"\n            marks={marks}\n            onChangeCommitted={(e, val) => configStore.setRiskFreeRate(val)}\n          />\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n});\n\nexport default ChartConfigurationCard;\n","import React from \"react\";\nimport { FormGroup, FormControlLabel, Switch } from \"@material-ui/core\";\n\nexport default function ChartSwitchStyle({ selectedChartStyleType, switchStyle }) {\n  const [state, setState] = React.useState({\n    checkedA: true,\n  });\n\n  const handleChange = (event) => {\n    setState({ ...state, [event.target.name]: event.target.checked });\n    switchStyle();\n  };\n\n  return (\n    <FormGroup row>\n      <FormControlLabel\n        control={<Switch checked={state.checkedA} onChange={handleChange} name=\"checkedA\" />}\n        label={selectedChartStyleType}\n      />\n    </FormGroup>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { autorun } from \"mobx\";\n\nconst TriggerRerenderPortfolio = observer(({ dataStore, rerenderPortfolio }) => {\n  useEffect(() =>\n    autorun(() => {\n      console.log(\"Trigger - TriggerRecalculatePortfolio\");\n      if (dataStore.triggerRerenderPortfolio) rerenderPortfolio();\n      dataStore.setTriggerRerenderPortfolio(false);\n    })\n  );\n\n  return <div />;\n});\nexport default TriggerRerenderPortfolio;\n","import React, { useEffect } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { autorun } from \"mobx\";\n\nconst TriggerShowVisibleLines = observer(({ dataStore, rerenderVisibleLines }) => {\n  useEffect(() =>\n    autorun(() => {\n      console.log(\"Trigger - TriggerShowVisibleLines\");\n      if (dataStore.triggerRerenderVisibleLines) rerenderVisibleLines();\n      dataStore.setTriggerRerenderVisibleLines(false);\n    })\n  );\n\n  return <div />;\n});\nexport default TriggerShowVisibleLines;\n","import React from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { createChart, PriceScaleMode } from \"lightweight-charts\";\nimport { Paper, LinearProgress } from \"@material-ui/core\";\nimport ChartSwitchStyle from \"./ChartSwitchStyle\";\nimport TriggerRerenderPortfolio from \"./TriggerRerenderPortfolio\";\nimport TriggerShowVisibleLines from \"./TriggerShowVisibleLines\";\nimport symbolDataStore from \"../stores/SymbolDataStore\";\n\nexport default class ChartPortfolioOverview extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      selectedChartStyleType: \"percent\",\n    };\n    this.myRef = React.createRef();\n    this.chart = {};\n    this.lineSeriesObj = {};\n\n    this.rerenderPortfolio = this.rerenderPortfolio.bind(this);\n    this.rerenderVisibleLines = this.rerenderVisibleLines.bind(this);\n    this.switchStyle = this.switchStyle.bind(this);\n    this.createGraphForSelectedSymbols = this.createGraphForSelectedSymbols.bind(this);\n    this.addLineSeriesData = this.addLineSeriesData.bind(this);\n  }\n\n  async componentDidMount() {\n    this.renderChart();\n    if (!this.props.configStore.isRunningSetup) this.createGraphForSelectedSymbols();\n  }\n\n  renderChart() {\n    if (this.myRef.current.firstChild) {\n      this.myRef.current.removeChild(this.myRef.current.firstChild);\n      this.chart = null;\n    }\n    this.chart = createChart(\n      this.myRef.current,\n      this.state.selectedChartStyleType === \"percent\" ? stylePercent : styleAbsolut\n    );\n  }\n\n  async rerenderPortfolio() {\n    this.addLineSeriesData(this.props.dataStore.getSymbolSetForTicker(\"Portfolio\"));\n  }\n\n  rerenderVisibleLines() {\n    this.createGraphForSelectedSymbols();\n  }\n\n  switchStyle() {\n    console.log(\"switching style\");\n    if (this.state.selectedChartStyleType === \"absolut\") {\n      this.setState({ selectedChartStyleType: \"percent\" });\n      this.chart.applyOptions(stylePercent);\n    } else if (this.state.selectedChartStyleType === \"percent\") {\n      this.setState({ selectedChartStyleType: \"absolut\" });\n      this.chart.applyOptions(styleAbsolut);\n    }\n  }\n\n  async createGraphForSelectedSymbols() {\n    console.log(\"createGraphForSelectedSymbols\");\n\n    // Remove lines for deleted symbols\n    const tempListOfAllSymbols = this.props.dataStore.listOfSymbolTickers;\n    for (const [symbolTicker, lineSeries] of Object.entries(this.lineSeriesObj)) {\n      // Check if ticker in dataStore symbols, if then remove lineseries\n      if (!tempListOfAllSymbols.includes(symbolTicker)) {\n        this.chart.removeSeries(lineSeries[\"series\"]);\n        delete this.lineSeriesObj[symbolTicker];\n      }\n    }\n\n    this.props.dataStore.symbols.forEach((symbolSet) => {\n      if (symbolSet.isVisible) {\n        this.addLineSeriesData(symbolSet);\n      } else {\n        if (this.lineSeriesObj[symbolSet.symbolTicker] && this.lineSeriesObj[symbolSet.symbolTicker][\"series\"]) {\n          let tempLineSeries = this.lineSeriesObj[symbolSet.symbolTicker][\"series\"];\n          this.chart.removeSeries(tempLineSeries);\n          delete this.lineSeriesObj[symbolSet.symbolTicker];\n        }\n      }\n    });\n  }\n\n  async addLineSeriesData(symbolSet) {\n    console.log(\"addLineSeriesData: \" + symbolSet.symbolTicker);\n\n    // TODO If data not availible then fetch data\n    const dataForSymbol = await symbolDataStore.getSymbolTimeseriesDataFromMap(symbolSet.symbolTicker);\n\n    if (!this.lineSeriesObj[symbolSet.symbolTicker]) {\n      // If lineSeriesObj for ticker does not exist then create new lineSeriesObj\n      let tempLineSeries = this.chart.addLineSeries({\n        color: symbolSet.color,\n      });\n      if (dataForSymbol && dataForSymbol.length !== 0) {\n        tempLineSeries.setData(dataForSymbol);\n      }\n      // Create new lineSeries Object\n      this.lineSeriesObj[symbolSet.symbolTicker] = { series: tempLineSeries, color: symbolSet.color };\n    } else {\n      // If lineSeries exists then only update data, keep color\n      if (dataForSymbol && dataForSymbol.length !== 0)\n        this.lineSeriesObj[symbolSet.symbolTicker][\"series\"].setData(dataForSymbol);\n    }\n  }\n\n  render() {\n    return (\n      <Paper style={{ padding: \"10px\" }}>\n        <ChartSwitchStyle\n          refreshData={this.refreshData}\n          switchStyle={this.switchStyle}\n          selectedChartStyleType={this.state.selectedChartStyleType === \"absolut\" ? \"absolut\" : \"percent\"}\n        />\n        <CalculatingProgress symbolDataStore={this.props.symbolDataStore} />\n        <div ref={this.myRef} id=\"chart-ref\"></div>\n        <TriggerRerenderPortfolio dataStore={this.props.dataStore} rerenderPortfolio={this.rerenderPortfolio} />\n        <TriggerShowVisibleLines dataStore={this.props.dataStore} rerenderVisibleLines={this.rerenderVisibleLines} />\n      </Paper>\n    );\n  }\n}\n\nconst CalculatingProgress = observer(({ symbolDataStore }) => (\n  <div>{symbolDataStore.isCalculatingPortfolioPerformance ? <LinearProgress /> : null}</div>\n));\n\nconst styleAbsolut = {\n  height: 300,\n  rightPriceScale: {\n    scaleMargins: {\n      top: 0.1,\n      bottom: 0.1,\n    },\n    mode: PriceScaleMode.Normal,\n    borderColor: \"rgba(197, 203, 206, 0.4)\",\n  },\n};\nconst stylePercent = {\n  height: 300,\n  rightPriceScale: {\n    scaleMargins: {\n      top: 0.1,\n      bottom: 0.1,\n    },\n    mode: PriceScaleMode.Percentage,\n    borderColor: \"rgba(197, 203, 206, 0.4)\",\n  },\n};\n","import React, { useEffect } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { autorun } from \"mobx\";\n\nconst TriggerRerenderDrawdown = observer(({ keyMetricsStore, rerenderDrawdown }) => {\n  useEffect(() =>\n    autorun(() => {\n      console.log(\"Trigger - TriggerRerenderDrawdown\");\n      if (keyMetricsStore.portfolioDrawdownTimeSeries.length !== 0) rerenderDrawdown();\n    })\n  );\n  return <div />;\n});\nexport default TriggerRerenderDrawdown;\n","import React from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { createChart, PriceScaleMode } from \"lightweight-charts\";\nimport keyMetricsStore from \"../stores/KeyMetricsStore\";\nimport { Paper, LinearProgress } from \"@material-ui/core\";\nimport TriggerRerenderDrawdown from \"./TriggerRerenderDrawdown\";\n\nexport default class ChartDrawdown extends React.Component {\n  constructor(props) {\n    super(props);\n    this.drawdownChartRef = React.createRef();\n    this.chart = {};\n    this.drawdownLineSeries = null;\n\n    this.addDrawdownLineSeries = this.addDrawdownLineSeries.bind(this);\n    this.rerenderDrawdown = this.rerenderDrawdown.bind(this);\n  }\n\n  async componentDidMount() {\n    this.renderChart();\n    this.addDrawdownLineSeries();\n  }\n\n  renderChart() {\n    if (this.drawdownChartRef.current.firstChild) {\n      this.drawdownChartRef.current.removeChild(this.drawdownChartRef.current.firstChild);\n      this.chart = null;\n    }\n    this.chart = createChart(this.drawdownChartRef.current, stylePercent);\n\n    // Create lineSeries and add it to the chart\n    this.drawdownLineSeries = this.chart.addLineSeries({\n      color: \"#f44336\",\n      priceLineVisible: false,\n      priceFormat: {\n        type: \"custom\",\n        minMove: 0.01,\n        formatter: (value) => value.toFixed(2) + \"%\",\n      },\n    });\n  }\n\n  async addDrawdownLineSeries() {\n    this.drawdownLineSeries.setData(keyMetricsStore.portfolioDrawdownTimeSeries);\n  }\n\n  rerenderDrawdown() {\n    this.addDrawdownLineSeries();\n  }\n\n  render() {\n    return (\n      <Paper style={{ padding: \"10px\" }}>\n        <CalculatingProgress keyMetricsStore={this.props.keyMetricsStore} />\n        <div ref={this.drawdownChartRef} id=\"chart-ref\"></div>\n        <TriggerRerenderDrawdown\n          keyMetricsStore={this.props.keyMetricsStore}\n          rerenderDrawdown={this.rerenderDrawdown}\n        />\n      </Paper>\n    );\n  }\n}\n\nconst CalculatingProgress = observer(({ keyMetricsStore }) => (\n  <div>{keyMetricsStore.portfolioDrawdownTimeSeries.length === 0 ? <LinearProgress /> : null}</div>\n));\n\nconst stylePercent = {\n  height: 300,\n  rightPriceScale: {\n    scaleMargins: {\n      top: 0.1,\n      bottom: 0.1,\n    },\n    mode: PriceScaleMode.Normal,\n    borderColor: \"rgba(197, 203, 206, 0.4)\",\n  },\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Tabs, Tab, Typography, Box, Paper } from \"@material-ui/core\";\nimport { observer } from \"mobx-react-lite\";\nimport ChartPortfolioOverview from \"./ChartPortfolioOverview\";\nimport ChartDrawdown from \"./ChartDrawdown\";\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    \"aria-controls\": `simple-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nconst TabBar = observer(({ dataStore, symbolDataStore, keyMetricsStore, configStore }) => {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.root}>\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          aria-label=\"simple tabs example\"\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          centered\n        >\n          <Tab label=\"Overview\" {...a11yProps(0)} />\n          <Tab label=\"Drawdown\" {...a11yProps(1)} />\n        </Tabs>\n      </Paper>\n\n      <TabPanel value={value} index={0}>\n        <ChartPortfolioOverview dataStore={dataStore} configStore={configStore} symbolDataStore={symbolDataStore} />\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n        <ChartDrawdown keyMetricsStore={keyMetricsStore} />\n      </TabPanel>\n    </div>\n  );\n});\n\nexport default TabBar;\n","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport SelectedSymbolsBar from \"../components/SelectedSymbolsBar\";\nimport PortfolioBuilder from \"../components/PortfolioBuilder\";\nimport KeyMetricRow from \"../components/KeyMetricRow\";\nimport ChartConfigurationCard from \"../components/ChartConfigurationCard\";\nimport TabBar from \"../components/TabBar\";\n\nconst ChartingPage = ({ dataStore, notificationStore, configStore, symbolDataStore, keyMetricsStore }) => {\n  return (\n    <div>\n      <Grid container spacing={3}>\n        <Grid item xs={12} spacing={3}>\n          <SelectedSymbolsBar dataStore={dataStore} notificationStore={notificationStore} />\n        </Grid>\n        <Grid item xs={12} spacing={3}>\n          <KeyMetricRow dataStore={dataStore} keyMetricsStore={keyMetricsStore} />\n        </Grid>\n        <Grid item xs={12}>\n          <TabBar\n            dataStore={dataStore}\n            configStore={configStore}\n            symbolDataStore={symbolDataStore}\n            keyMetricsStore={keyMetricsStore}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <PortfolioBuilder dataStore={dataStore} />\n        </Grid>\n        <Grid item xs={12}>\n          <ChartConfigurationCard configStore={configStore} dataStore={dataStore} />\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default ChartingPage;\n","import React from \"react\";\nimport { Paper, Typography, TextField, Link } from \"@material-ui/core\";\n\nconst SettingsPage = ({ configStore }) => {\n  const [apiTimeout, setAPITimeout] = React.useState(null);\n  const handleValueChange = async (newAPIValue) => {\n    const handleAPIValueChange = async (newAPIValue) => {\n      configStore.setAlphaVantageAPITokenIDB(newAPIValue);\n    };\n\n    if (apiTimeout) clearTimeout(apiTimeout);\n    if (!newAPIValue) return;\n    const timeout = setTimeout(async () => {\n      await handleAPIValueChange(newAPIValue);\n    }, 1000);\n    setAPITimeout(timeout);\n  };\n\n  return (\n    <div>\n      <Paper elevation={1} style={{ padding: \"20px\" }}>\n        <Typography variant=\"h1\" gutterBottom>\n          Settings\n        </Typography>\n\n        <Typography variant=\"h6\" gutterBottom>\n          Alpha Vantag API Token\n        </Typography>\n        <TextField\n          id=\"outlined-basic\"\n          label=\"API-Token\"\n          variant=\"outlined\"\n          defaultValue={configStore.alphaVantage.apiToken}\n          onChange={(e) => handleValueChange(e.target.value)}\n        />\n        <Typography variant=\"caption\" display=\"block\" gutterBottom>\n          Get your free token here:{\" \"}\n          <Link href=\"https://www.alphavantage.co/support/#api-key\" target=\"_blank\" rel=\"noreferrer\">\n            Alpha Vantage\n          </Link>{\" \"}\n          (Hint: try a random key)\n        </Typography>\n      </Paper>\n    </div>\n  );\n};\n\nexport default SettingsPage;\n","import { Component } from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { inject, observer } from \"mobx-react\";\nimport { autorun } from \"mobx\";\n\nclass Notifier extends Component {\n  displayed = [];\n\n  storeDisplayed = (id) => {\n    this.displayed = [...this.displayed, id];\n  };\n\n  removeDisplayedNotificationByKey(removeKey) {\n    this.displayed = this.displayed.filter((key) => removeKey !== key);\n  }\n\n  componentDidMount() {\n    autorun(() => {\n      const { notifications = [] } = this.props.notificationStore;\n\n      notifications.forEach((notification) => {\n        // Do nothing if snackbar is already displayed\n        if (this.displayed.includes(notification.key)) return;\n        // Display snackbar using notistack\n        this.props.enqueueSnackbar(notification.message, notification.options);\n        // Keep track of snackbars that we've displayed\n        this.storeDisplayed(notification.key);\n        // Dispatch action to remove snackbar from mobx store\n        this.props.notificationStore.removeSnackbar(notification.key);\n\n        // Calculate delay to remove notification from this.displayed\n        let delayUntilRemoveMs = 0;\n        if (notification.options && notification.options.autoHideDuration) {\n          delayUntilRemoveMs = notification.options.autoHideDuration + 100;\n        } else {\n          delayUntilRemoveMs = 2100;\n        }\n        // Remove notifaction from this.disyplayed after dealy\n        setTimeout(\n          function () {\n            this.removeDisplayedNotificationByKey(notification.key);\n          }.bind(this),\n          delayUntilRemoveMs\n        );\n      });\n    });\n  }\n\n  render() {\n    return null;\n  }\n}\n\nexport default withSnackbar(inject(\"notificationStore\")(observer(Notifier)));\n","import React from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport List from \"@material-ui/core/List\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\n\n// Content\nimport dataStore from \"./stores/DataStore\";\nimport notificationStore from \"./stores/NotificationStore\";\nimport configStore from \"./stores/ConfigStore\";\nimport symbolDataStore from \"./stores/SymbolDataStore\";\nimport ChartingPage from \"./pages/ChartingPage\";\nimport SettingsPage from \"./pages/SettingsPage\";\nimport keyMetricsStore from \"./stores/KeyMetricsStore\";\nimport Notifier from \"./components/Notifier\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  hide: {\n    display: \"none\",\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: \"nowrap\",\n  },\n  drawerOpen: {\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerClose: {\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: \"hidden\",\n    width: theme.spacing(7) + 1,\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9) + 1,\n    },\n  },\n  toolbar: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n}));\n\nfunction App() {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [open, setOpen] = React.useState(false);\n  const [pages, setPages] = React.useState({ chartingPage: { showPage: true }, settingsPage: { showPage: false } });\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const handlePageSelect = (pageToShow) => {\n    const tempPages = {};\n    for (const [page] of Object.entries(pages)) {\n      if (page === pageToShow) tempPages[page] = { showPage: true };\n      else tempPages[page] = { showPage: false };\n    }\n    setPages(tempPages);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Notifier notificationStore={notificationStore} />\n      <CssBaseline />\n      <AppBar\n        position=\"fixed\"\n        className={clsx(classes.appBar, {\n          [classes.appBarShift]: open,\n        })}\n      >\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            edge=\"start\"\n            className={clsx(classes.menuButton, {\n              [classes.hide]: open,\n            })}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" noWrap>\n            Historic-Portfolio-Analyzer (0.9.0)\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        variant=\"permanent\"\n        className={clsx(classes.drawer, {\n          [classes.drawerOpen]: open,\n          [classes.drawerClose]: !open,\n        })}\n        classes={{\n          paper: clsx({\n            [classes.drawerOpen]: open,\n            [classes.drawerClose]: !open,\n          }),\n        }}\n      >\n        <div className={classes.toolbar}>\n          <IconButton onClick={handleDrawerClose}>\n            {theme.direction === \"rtl\" ? <ChevronRightIcon /> : <ChevronLeftIcon />}\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          <ListItem button key={\"charting-page\"} onClick={() => handlePageSelect(\"chartingPage\")}>\n            <ListItemIcon>\n              <HomeIcon />\n            </ListItemIcon>\n            <ListItemText primary={\"Chart\"} />\n          </ListItem>\n        </List>\n        <Divider />\n        <List>\n          <ListItem button key={\"serttings-page\"} onClick={() => handlePageSelect(\"settingsPage\")}>\n            <ListItemIcon>\n              <SettingsIcon />\n            </ListItemIcon>\n            <ListItemText primary={\"Settings\"} />\n          </ListItem>\n        </List>\n      </Drawer>\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        {pages.chartingPage.showPage ? (\n          <ChartingPage\n            dataStore={dataStore}\n            notificationStore={notificationStore}\n            configStore={configStore}\n            symbolDataStore={symbolDataStore}\n            keyMetricsStore={keyMetricsStore}\n          />\n        ) : null}\n        {pages.settingsPage.showPage ? <SettingsPage configStore={configStore} /> : null}\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { SnackbarProvider } from \"notistack\";\nimport { Provider } from 'mobx-react';\nimport notificationStore from \"./stores/NotificationStore\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider notificationStore={notificationStore}>\n    <SnackbarProvider maxSnack={10}>\n      <App />\n    </SnackbarProvider>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}